{"remainingRequest":"/Users/jimmy/Desktop/科学计算导论/front-input-output/node_modules/babel-loader/lib/index.js!/Users/jimmy/Desktop/科学计算导论/front-input-output/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jimmy/Desktop/科学计算导论/front-input-output/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jimmy/Desktop/科学计算导论/front-input-output/src/components/heatMap.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jimmy/Desktop/科学计算导论/front-input-output/src/components/heatMap.vue","mtime":1680093448373},{"path":"/Users/jimmy/Desktop/科学计算导论/front-input-output/babel.config.js","mtime":1679986674019},{"path":"/Users/jimmy/Desktop/科学计算导论/front-input-output/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jimmy/Desktop/科学计算导论/front-input-output/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/jimmy/Desktop/科学计算导论/front-input-output/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jimmy/Desktop/科学计算导论/front-input-output/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBydWxlcyBmcm9tICIuLi9hc3NldHMvdmFsaWQvaGVhdG1hcFZhbGlkIjsKZXhwb3J0IGRlZmF1bHQgewogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXQoKTsKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtTGFiZWxBbGlnbjogewogICAgICAgIHRvcDogMCwKICAgICAgICBib3R0b206IDAsCiAgICAgICAgbGVmdDogMCwKICAgICAgICByaWdodDogMCwKICAgICAgICBtYXhpdGVyOiAxMDAKICAgICAgfSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGRhdGE6IFtdLAogICAgICBtYXg6IDEwMCwKICAgICAgcnVsZXM6IHJ1bGVzCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0RGF0YSgpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy4kYXhpb3MucG9zdCgiaHR0cDovLzEyNy4wLjAuMTo1MDAwL2hlYXRtYXAiLCB0aGlzLmZvcm1MYWJlbEFsaWduKS50aGVuKHJlID0+IHsKICAgICAgICB0aGlzLmRhdGEgPSByZS5kYXRhLmRhdGE7CiAgICAgICAgY29uc29sZS5sb2codGhpcy5kYXRhKTsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUqLwogICAgICAgIGNvbnN0IHsKICAgICAgICAgIG1heGl0ZXIsCiAgICAgICAgICAuLi5mb3JtTGFiZWxDb3B5CiAgICAgICAgfSA9IHRoaXMuZm9ybUxhYmVsQWxpZ247CiAgICAgICAgdGhpcy5tYXggPSBNYXRoLm1heCguLi5PYmplY3QudmFsdWVzKGZvcm1MYWJlbENvcHkpKTsKICAgICAgICB0aGlzLmluaXQoKTsKICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGVyci5tZXNzYWdlKTsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgaW5pdCgpIHsKICAgICAgLy8g5YGH6K6+IGRhdGEg5Li65LiA5LiqIE4qTiDnmoTmlbDnu4QKICAgICAgbGV0IHhEYXRhID0gW107CiAgICAgIGxldCB5RGF0YSA9IFtdOwogICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDEwMDsgaisrKSB7CiAgICAgICAgeURhdGEucHVzaChqIC8gMTAwKTsKICAgICAgICB4RGF0YS5wdXNoKGogLyAxMDApOwogICAgICB9CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZGF0YSk7CiAgICAgIHZhciBteUNoYXJ0ID0gdGhpcy4kZWNoYXJ0cy5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJteUNoYXJ0IikpOwogICAgICB2YXIgb3B0aW9uID0gewogICAgICAgIHRvb2x0aXA6IHt9LAogICAgICAgIHhBeGlzOiB7CiAgICAgICAgICB0eXBlOiAiY2F0ZWdvcnkiLAogICAgICAgICAgZGF0YTogeERhdGEKICAgICAgICB9LAogICAgICAgIHlBeGlzOiB7CiAgICAgICAgICB0eXBlOiAiY2F0ZWdvcnkiLAogICAgICAgICAgZGF0YTogeURhdGEKICAgICAgICB9LAogICAgICAgIHZpc3VhbE1hcDogewogICAgICAgICAgbWluOiAwLAogICAgICAgICAgbWF4OiB0aGlzLm1heCwKICAgICAgICAgIGNhbGN1bGFibGU6IHRydWUsCiAgICAgICAgICBvcmllbnQ6ICJob3Jpem9udGFsIiwKICAgICAgICAgIGxlZnQ6ICJjZW50ZXIiLAogICAgICAgICAgcmVhbHRpbWU6IGZhbHNlLAogICAgICAgICAgYm90dG9tOiAiMCUiLAogICAgICAgICAgaW5SYW5nZTogewogICAgICAgICAgICBjb2xvcjogWyIjMzEzNjk1IiwgIiM0NTc1YjQiLCAiIzc0YWRkMSIsICIjYWJkOWU5IiwgIiNlMGYzZjgiLCAiI2ZmZmZiZiIsICIjZmVlMDkwIiwgIiNmZGFlNjEiLCAiI2Y0NmQ0MyIsICIjZDczMDI3IiwgIiNhNTAwMjYiXQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgc2VyaWVzOiBbewogICAgICAgICAgdHlwZTogImhlYXRtYXAiLAogICAgICAgICAgYW5pbWF0aW9uOiBmYWxzZSwKICAgICAgICAgIGRhdGE6IHRoaXMuZGF0YSwKICAgICAgICAgIHByb2dyZXNzaXZlOiAxMDAwCiAgICAgICAgfV0KICAgICAgfTsKICAgICAgbXlDaGFydC5zZXRPcHRpb24ob3B0aW9uKTsKICAgICAgLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgLy8gICBteUNoYXJ0LnJlc2l6ZSgpOwogICAgICAvLyB9KTsKICAgIH0sCgogICAgc3VibWl0Rm9ybSgpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5ydWxlcyk7CiAgICAgIHRoaXMuJHJlZnNbImZvcm0iXS52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICB0aGlzLmdldERhdGEoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kbWVzc2FnZSgi6K+35qOA5p+l5L2g55qE6L6T5YWlIik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICByZXNldEZvcm0oKSB7CiAgICAgIHRoaXMuZm9ybUxhYmVsQWxpZ24gPSB7CiAgICAgICAgdG9wOiAwLAogICAgICAgIGJvdHRvbTogMCwKICAgICAgICBsZWZ0OiAwLAogICAgICAgIHJpZ2h0OiAwLAogICAgICAgIG1heGl0ZXI6IDEwMAogICAgICB9OwogICAgfQogIH0KfTs="},{"version":3,"names":["rules","mounted","init","data","formLabelAlign","top","bottom","left","right","maxiter","loading","max","methods","getData","$axios","post","then","re","console","log","formLabelCopy","Math","Object","values","catch","err","$message","error","message","xData","yData","j","push","myChart","$echarts","document","getElementById","option","tooltip","xAxis","type","yAxis","visualMap","min","calculable","orient","realtime","inRange","color","series","animation","progressive","setOption","submitForm","$refs","validate","valid","resetForm"],"sources":["src/components/heatMap.vue"],"sourcesContent":["<template>\n  <div class=\"main\">\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\n      <el-breadcrumb-item>模拟问题</el-breadcrumb-item>\n      <el-breadcrumb-item>拉普拉斯方程</el-breadcrumb-item>\n    </el-breadcrumb>\n\n    <div class=\"content\">\n      <div class=\"input\">\n        <el-form\n          class=\"form\"\n          label-position=\"top\"\n          label-width=\"80px\"\n          ref=\"form\"\n          :model=\"formLabelAlign\"\n          :rules=\"rules\"\n        >\n          <el-form-item label=\"上边界条件\" prop=\"top\">\n            <el-input v-model.number=\"formLabelAlign.top\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"下边界条件\" prop=\"bottom\">\n            <el-input v-model.number=\"formLabelAlign.bottom\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"左边界条件\" prop=\"left\">\n            <el-input v-model.number=\"formLabelAlign.left\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"右边界条件\" prop=\"right\">\n            <el-input v-model.number=\"formLabelAlign.right\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"迭代次数\" prop=\"maxiter\">\n            <el-input v-model.number=\"formLabelAlign.maxiter\"></el-input>\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"submitForm()\">立即创建</el-button>\n            <el-button @click=\"resetForm()\">重置</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n      <div\n        id=\"myChart\"\n        v-loading=\"loading\"\n        element-loading-text=\"拼命加载中\"\n        element-loading-background=\"rgba(0, 0, 0, 0)\"\n      ></div>\n    </div>\n  </div>\n</template>\n<script>\nimport rules from \"../assets/valid/heatmapValid\";\nexport default {\n  mounted() {\n    this.init();\n  },\n  data() {\n    return {\n      formLabelAlign: {\n        top: 0,\n        bottom: 0,\n        left: 0,\n        right: 0,\n        maxiter: 100,\n      },\n      loading: false,\n      data: [],\n      max: 100,\n      rules: rules,\n    };\n  },\n  methods: {\n    getData() {\n      this.loading = true;\n      this.$axios\n        .post(\"http://127.0.0.1:5000/heatmap\", this.formLabelAlign)\n        .then((re) => {\n          this.data = re.data.data;\n          console.log(this.data);\n          this.loading = false;\n          /* eslint-disable-next-line*/\n          const { maxiter, ...formLabelCopy } = this.formLabelAlign;\n          this.max = Math.max(...Object.values(formLabelCopy));\n          this.init();\n        })\n        .catch((err) => {\n          this.$message.error(err.message);\n          this.loading = false;\n        });\n    },\n    init() {\n      // 假设 data 为一个 N*N 的数组\n      let xData = [];\n      let yData = [];\n      for (let j = 0; j < 100; j++) {\n        yData.push(j / 100);\n        xData.push(j / 100);\n      }\n      console.log(this.data);\n      var myChart = this.$echarts.init(document.getElementById(\"myChart\"));\n      var option = {\n        tooltip: {},\n        xAxis: {\n          type: \"category\",\n          data: xData,\n        },\n        yAxis: {\n          type: \"category\",\n          data: yData,\n        },\n        visualMap: {\n          min: 0,\n          max: this.max,\n          calculable: true,\n          orient: \"horizontal\",\n          left: \"center\",\n          realtime: false,\n          bottom: \"0%\",\n          inRange: {\n            color: [\n              \"#313695\",\n              \"#4575b4\",\n              \"#74add1\",\n              \"#abd9e9\",\n              \"#e0f3f8\",\n              \"#ffffbf\",\n              \"#fee090\",\n              \"#fdae61\",\n              \"#f46d43\",\n              \"#d73027\",\n              \"#a50026\",\n            ],\n          },\n        },\n        series: [\n          {\n            type: \"heatmap\",\n            animation: false,\n            data: this.data,\n            progressive: 1000,\n          },\n        ],\n      };\n      myChart.setOption(option);\n      // window.addEventListener(\"resize\", function () {\n      //   myChart.resize();\n      // });\n    },\n    submitForm() {\n      console.log(this.rules);\n      this.$refs[\"form\"].validate((valid) => {\n        if (valid) {\n          this.getData();\n        } else {\n          this.$message(\"请检查你的输入\");\n        }\n      });\n    },\n    resetForm() {\n      this.formLabelAlign = {\n        top: 0,\n        bottom: 0,\n        left: 0,\n        right: 0,\n        maxiter: 100,\n      };\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.main .content {\n  height: 100%;\n  display: flex;\n}\n.input {\n  width: 500px;\n  margin: 40px 0 0 0;\n}\n#myChart {\n  width: 800px;\n  flex: 1;\n}\n.form {\n  text-align: left;\n  line-height: 0px;\n  margin: 10px 10px;\n}\n</style>\n"],"mappings":";AAiDA,OAAAA,KAAA;AACA;EACAC,QAAA;IACA,KAAAC,IAAA;EACA;EACAC,KAAA;IACA;MACAC,cAAA;QACAC,GAAA;QACAC,MAAA;QACAC,IAAA;QACAC,KAAA;QACAC,OAAA;MACA;MACAC,OAAA;MACAP,IAAA;MACAQ,GAAA;MACAX,KAAA,EAAAA;IACA;EACA;EACAY,OAAA;IACAC,QAAA;MACA,KAAAH,OAAA;MACA,KAAAI,MAAA,CACAC,IAAA,uCAAAX,cAAA,EACAY,IAAA,CAAAC,EAAA;QACA,KAAAd,IAAA,GAAAc,EAAA,CAAAd,IAAA,CAAAA,IAAA;QACAe,OAAA,CAAAC,GAAA,MAAAhB,IAAA;QACA,KAAAO,OAAA;QACA;QACA;UAAAD,OAAA;UAAA,GAAAW;QAAA,SAAAhB,cAAA;QACA,KAAAO,GAAA,GAAAU,IAAA,CAAAV,GAAA,IAAAW,MAAA,CAAAC,MAAA,CAAAH,aAAA;QACA,KAAAlB,IAAA;MACA,GACAsB,KAAA,CAAAC,GAAA;QACA,KAAAC,QAAA,CAAAC,KAAA,CAAAF,GAAA,CAAAG,OAAA;QACA,KAAAlB,OAAA;MACA;IACA;IACAR,KAAA;MACA;MACA,IAAA2B,KAAA;MACA,IAAAC,KAAA;MACA,SAAAC,CAAA,MAAAA,CAAA,QAAAA,CAAA;QACAD,KAAA,CAAAE,IAAA,CAAAD,CAAA;QACAF,KAAA,CAAAG,IAAA,CAAAD,CAAA;MACA;MACAb,OAAA,CAAAC,GAAA,MAAAhB,IAAA;MACA,IAAA8B,OAAA,QAAAC,QAAA,CAAAhC,IAAA,CAAAiC,QAAA,CAAAC,cAAA;MACA,IAAAC,MAAA;QACAC,OAAA;QACAC,KAAA;UACAC,IAAA;UACArC,IAAA,EAAA0B;QACA;QACAY,KAAA;UACAD,IAAA;UACArC,IAAA,EAAA2B;QACA;QACAY,SAAA;UACAC,GAAA;UACAhC,GAAA,OAAAA,GAAA;UACAiC,UAAA;UACAC,MAAA;UACAtC,IAAA;UACAuC,QAAA;UACAxC,MAAA;UACAyC,OAAA;YACAC,KAAA,GACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA;UAEA;QACA;QACAC,MAAA,GACA;UACAT,IAAA;UACAU,SAAA;UACA/C,IAAA,OAAAA,IAAA;UACAgD,WAAA;QACA;MAEA;MACAlB,OAAA,CAAAmB,SAAA,CAAAf,MAAA;MACA;MACA;MACA;IACA;;IACAgB,WAAA;MACAnC,OAAA,CAAAC,GAAA,MAAAnB,KAAA;MACA,KAAAsD,KAAA,SAAAC,QAAA,CAAAC,KAAA;QACA,IAAAA,KAAA;UACA,KAAA3C,OAAA;QACA;UACA,KAAAa,QAAA;QACA;MACA;IACA;IACA+B,UAAA;MACA,KAAArD,cAAA;QACAC,GAAA;QACAC,MAAA;QACAC,IAAA;QACAC,KAAA;QACAC,OAAA;MACA;IACA;EACA;AACA"}]}