{"remainingRequest":"/Users/jimmy/Desktop/科学计算导论/front-input-output/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jimmy/Desktop/科学计算导论/front-input-output/src/components/heatMap.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jimmy/Desktop/科学计算导论/front-input-output/src/components/heatMap.vue","mtime":1680018100900},{"path":"/Users/jimmy/Desktop/科学计算导论/front-input-output/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jimmy/Desktop/科学计算导论/front-input-output/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/jimmy/Desktop/科学计算导论/front-input-output/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jimmy/Desktop/科学计算导论/front-input-output/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci8vIGltcG9ydCBkYXRhIGZyb20gIi4uLy4uL3B1YmxpYy9zdGF0aWMvY2VzaGkuanNvbiI7CmV4cG9ydCBkZWZhdWx0IHsKICBtb3VudGVkKCkgewogICAgdGhpcy5pbml0KCk7CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybUxhYmVsQWxpZ246IHsKICAgICAgICB0b3A6IDAsCiAgICAgICAgYm90dG9tOiAwLAogICAgICAgIGxlZnQ6IDAsCiAgICAgICAgcmlnaHQ6IDAsCiAgICAgICAgbWF4aXRlcjogMTAwLAogICAgICB9LAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgZGF0YTogW10sCiAgICAgIG1heDogMTAwLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldERhdGEoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIHRoaXMuJGF4aW9zCiAgICAgICAgLnBvc3QoImh0dHA6Ly8xMjcuMC4wLjE6NTAwMC9oZWF0bWFwIiwgdGhpcy5mb3JtTGFiZWxBbGlnbikKICAgICAgICAudGhlbigocmUpID0+IHsKICAgICAgICAgIHRoaXMuZGF0YSA9IHJlLmRhdGEuZGF0YTsKICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZGF0YSk7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSovCiAgICAgICAgICBjb25zdCB7IG1heGl0ZXIsIC4uLmZvcm1MYWJlbENvcHkgfSA9IHRoaXMuZm9ybUxhYmVsQWxpZ247CiAgICAgICAgICB0aGlzLm1heCA9IE1hdGgubWF4KC4uLk9iamVjdC52YWx1ZXMoZm9ybUxhYmVsQ29weSkpOwogICAgICAgICAgdGhpcy5pbml0KCk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0pOwogICAgfSwKICAgIGluaXQoKSB7CiAgICAgIC8vIOWBh+iuviBkYXRhIOS4uuS4gOS4qiBOKk4g55qE5pWw57uECiAgICAgIGxldCB4RGF0YSA9IFtdOwogICAgICBsZXQgeURhdGEgPSBbXTsKICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAxMDA7IGorKykgewogICAgICAgIHlEYXRhLnB1c2goaiAvIDEwMCk7CiAgICAgICAgeERhdGEucHVzaChqIC8gMTAwKTsKICAgICAgfQogICAgICBjb25zb2xlLmxvZyh0aGlzLmRhdGEpOwogICAgICB2YXIgbXlDaGFydCA9IHRoaXMuJGVjaGFydHMuaW5pdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibXlDaGFydCIpKTsKICAgICAgdmFyIG9wdGlvbiA9IHsKICAgICAgICB0b29sdGlwOiB7fSwKICAgICAgICB4QXhpczogewogICAgICAgICAgdHlwZTogImNhdGVnb3J5IiwKICAgICAgICAgIGRhdGE6IHhEYXRhLAogICAgICAgIH0sCiAgICAgICAgeUF4aXM6IHsKICAgICAgICAgIHR5cGU6ICJjYXRlZ29yeSIsCiAgICAgICAgICBkYXRhOiB5RGF0YSwKICAgICAgICB9LAogICAgICAgIHZpc3VhbE1hcDogewogICAgICAgICAgbWluOiAwLAogICAgICAgICAgbWF4OiB0aGlzLm1heCwKICAgICAgICAgIGNhbGN1bGFibGU6IHRydWUsCiAgICAgICAgICBvcmllbnQ6ICJob3Jpem9udGFsIiwKICAgICAgICAgIGxlZnQ6ICJjZW50ZXIiLAogICAgICAgICAgcmVhbHRpbWU6IGZhbHNlLAogICAgICAgICAgYm90dG9tOiAiMCUiLAogICAgICAgICAgaW5SYW5nZTogewogICAgICAgICAgICBjb2xvcjogWwogICAgICAgICAgICAgICIjMzEzNjk1IiwKICAgICAgICAgICAgICAiIzQ1NzViNCIsCiAgICAgICAgICAgICAgIiM3NGFkZDEiLAogICAgICAgICAgICAgICIjYWJkOWU5IiwKICAgICAgICAgICAgICAiI2UwZjNmOCIsCiAgICAgICAgICAgICAgIiNmZmZmYmYiLAogICAgICAgICAgICAgICIjZmVlMDkwIiwKICAgICAgICAgICAgICAiI2ZkYWU2MSIsCiAgICAgICAgICAgICAgIiNmNDZkNDMiLAogICAgICAgICAgICAgICIjZDczMDI3IiwKICAgICAgICAgICAgICAiI2E1MDAyNiIsCiAgICAgICAgICAgIF0sCiAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgICAgc2VyaWVzOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIHR5cGU6ICJoZWF0bWFwIiwKICAgICAgICAgICAgYW5pbWF0aW9uOiBmYWxzZSwKICAgICAgICAgICAgZGF0YTogdGhpcy5kYXRhLAogICAgICAgICAgICBwcm9ncmVzc2l2ZTogMTAwMCwKICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgfTsKICAgICAgbXlDaGFydC5zZXRPcHRpb24ob3B0aW9uKTsKICAgICAgLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgLy8gICBteUNoYXJ0LnJlc2l6ZSgpOwogICAgICAvLyB9KTsKICAgIH0sCiAgICBzdWJtaXRGb3JtKCkgewogICAgICB0aGlzLmdldERhdGEoKTsKICAgIH0sCiAgICByZXNldEZvcm0oKSB7CiAgICAgIHRoaXMuZm9ybUxhYmVsQWxpZ24gPSB7CiAgICAgICAgdG9wOiAwLAogICAgICAgIGJvdHRvbTogMCwKICAgICAgICBsZWZ0OiAwLAogICAgICAgIHJpZ2h0OiAwLAogICAgICAgIG1heGl0ZXI6IDEwMCwKICAgICAgfTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["heatMap.vue"],"names":[],"mappings":";AA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"heatMap.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"main\" v-loading=\"loading\">\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\n      <el-breadcrumb-item>模拟问题</el-breadcrumb-item>\n      <el-breadcrumb-item>拉普拉斯方程</el-breadcrumb-item>\n    </el-breadcrumb>\n\n    <div class=\"content\">\n      <div class=\"content\">\n        <div class=\"input\">\n          <el-form\n            label-position=\"top\"\n            label-width=\"80px\"\n            :model=\"formLabelAlign\"\n            class=\"form\"\n          >\n            <el-form-item label=\"上边界条件\">\n              <el-input v-model=\"formLabelAlign.top\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"下边界条件\">\n              <el-input v-model=\"formLabelAlign.bottom\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"左边界条件\">\n              <el-input v-model=\"formLabelAlign.left\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"右边界条件\">\n              <el-input v-model=\"formLabelAlign.right\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"迭代次数\">\n              <el-input v-model=\"formLabelAlign.maxiter\"></el-input>\n            </el-form-item>\n            <el-form-item>\n              <el-button type=\"primary\" @click=\"submitForm()\"\n                >立即创建</el-button\n              >\n              <el-button @click=\"resetForm()\">重置</el-button>\n            </el-form-item>\n          </el-form>\n        </div>\n        <div id=\"myChart\"></div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\n// import data from \"../../public/static/ceshi.json\";\nexport default {\n  mounted() {\n    this.init();\n  },\n  data() {\n    return {\n      formLabelAlign: {\n        top: 0,\n        bottom: 0,\n        left: 0,\n        right: 0,\n        maxiter: 100,\n      },\n      loading: false,\n      data: [],\n      max: 100,\n    };\n  },\n  methods: {\n    getData() {\n      this.loading = true;\n      this.$axios\n        .post(\"http://127.0.0.1:5000/heatmap\", this.formLabelAlign)\n        .then((re) => {\n          this.data = re.data.data;\n          console.log(this.data);\n          this.loading = false;\n          /* eslint-disable-next-line*/\n          const { maxiter, ...formLabelCopy } = this.formLabelAlign;\n          this.max = Math.max(...Object.values(formLabelCopy));\n          this.init();\n        })\n        .catch((err) => {\n          console.log(err);\n          this.loading = false;\n        });\n    },\n    init() {\n      // 假设 data 为一个 N*N 的数组\n      let xData = [];\n      let yData = [];\n      for (let j = 0; j < 100; j++) {\n        yData.push(j / 100);\n        xData.push(j / 100);\n      }\n      console.log(this.data);\n      var myChart = this.$echarts.init(document.getElementById(\"myChart\"));\n      var option = {\n        tooltip: {},\n        xAxis: {\n          type: \"category\",\n          data: xData,\n        },\n        yAxis: {\n          type: \"category\",\n          data: yData,\n        },\n        visualMap: {\n          min: 0,\n          max: this.max,\n          calculable: true,\n          orient: \"horizontal\",\n          left: \"center\",\n          realtime: false,\n          bottom: \"0%\",\n          inRange: {\n            color: [\n              \"#313695\",\n              \"#4575b4\",\n              \"#74add1\",\n              \"#abd9e9\",\n              \"#e0f3f8\",\n              \"#ffffbf\",\n              \"#fee090\",\n              \"#fdae61\",\n              \"#f46d43\",\n              \"#d73027\",\n              \"#a50026\",\n            ],\n          },\n        },\n        series: [\n          {\n            type: \"heatmap\",\n            animation: false,\n            data: this.data,\n            progressive: 1000,\n          },\n        ],\n      };\n      myChart.setOption(option);\n      // window.addEventListener(\"resize\", function () {\n      //   myChart.resize();\n      // });\n    },\n    submitForm() {\n      this.getData();\n    },\n    resetForm() {\n      this.formLabelAlign = {\n        top: 0,\n        bottom: 0,\n        left: 0,\n        right: 0,\n        maxiter: 100,\n      };\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.main .content {\n  height: 100%;\n  display: flex;\n}\n.input {\n  width: 500px;\n  margin: 40px 0 0 0;\n}\n#myChart {\n  width: 800px;\n  flex: 1;\n}\n.form {\n  text-align: left;\n  line-height: 0px;\n  margin: 10px 10px;\n}\n::v-deep .el-loading-mask {\n  margin: -20px;\n  height: calc(100vh - 60px);\n}\n</style>\n"]}]}